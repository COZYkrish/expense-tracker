{% extends 'base_dashboard.html' %}
{% block content %}
<h2>Analytics</h2>
<div class="analytics-section">
    <div style="display:flex;gap:32px;flex-wrap:wrap;">
        <div style="flex:1;min-width:260px;">
            <h4>Monthly Trend</h4>
            <canvas id="analyticsChart" height="120"></canvas>
        </div>
        <div style="flex:1;min-width:260px;">
            <h4>Category Split</h4>
            <canvas id="categoryPie" height="120"></canvas>
        </div>
    </div>
    <div style="margin-top:24px;">
        <span style="color:#00f2fe;font-weight:700;">Insight:</span> Analyze your spending patterns and optimize your budget!
    </div>
</div>
<script>
// Monthly Trend (animated line chart)
const ctx = document.getElementById('analyticsChart').getContext('2d');
new Chart(ctx, {
    type: 'line',
    data: {
        labels: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
        datasets: [{
            label: 'Expenses',
            data: [120, 90, 150, 80, 200, 170, 140, 110, 160, 130, 180, 210],
            borderColor: '#00f2fe',
            backgroundColor: 'rgba(0,242,254,0.15)',
            fill: true,
            tension: 0.4
        }]
    },
    options: {responsive: true, plugins: {legend: {position: 'top'}}}
});
// Category Split (animated pie chart)
const pie = document.getElementById('categoryPie').getContext('2d');
new Chart(pie, {
    type: 'pie',
    data: {
        labels: ['Food', 'Transport', 'Shopping', 'Bills', 'Other'],
        datasets: [{
            data: [30, 20, 25, 15, 10],
            backgroundColor: ['#00f2fe', '#4facfe', '#fa709a', '#43e97b', '#f7971e'],
            borderWidth: 0
        }]
    },
    options: {responsive: true, plugins: {legend: {position: 'bottom'}}}
});
</script>
{% endblock %}
